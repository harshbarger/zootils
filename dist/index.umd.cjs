(function(r,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(r=typeof globalThis<"u"?globalThis:r||self,o(r.zootils={}))})(this,function(r){"use strict";function o(n,t,e="onlyInBounds"){return t<-n.length||!Number.isInteger(t)||e==="inBoundsOrOnePast"&&t>n.length||e==="onlyInBounds"&&t>=n.length?NaN:t>=0?t:n.length+t}function u(n,...t){return t.length===n.length?n(...t):e=>n(e,...t)}function s(n){return n.global?n:new RegExp(n.source,n.flags+"g")}function m(n){return n.global?new RegExp(n.source,n.flags.replace("g","")):n}function f(n){return Array.isArray(n)?[]:""}function h(n,t){return n+t}function d(...n){return u(h,...n)}function N(n,t){return t.every(e=>e(n))}function _(...n){return u(N,...n)}function g(n,t){return n.every(t)}function I(...n){return u(g,...n)}function y(n,t){return Object.values(n).every(t)}function b(...n){return u(y,...n)}function A(n,t){return!Number.isInteger(t)||t>n.length||t<1?[]:[...Array(n.length-t+1)].map((e,i)=>n.slice(i,i+t))}function O(...n){return u(A,...n)}function p(n,t){return Array.isArray(n)?[...n,...t]:`${n}${t}`}function v(...n){return u(p,...n)}function M(n,t){return[...n,t]}function P(...n){return u(M,...n)}function E(n){return n}function L(n,t){const e=o(n,t,"onlyInBounds");return isNaN(e)?"":n[e]}function W(...n){return u(L,...n)}function B(n,t){if(!Number.isInteger(t)||t<1)return[];const e=Math.ceil(n.length/t);return[...new Array(e)].map((i,c)=>n.slice(c*t,(c+1)*t))}function j(...n){return u(B,...n)}function w(n,t,e){return Math.max(t,Math.min(n,e))}function R(...n){return u(w,...n)}function S(n,t){return n.includes(t)}function T(...n){return u(S,...n)}function C(n,t){return F(n)?[...new Array(n)].fill(t):[]}const F=n=>Number.isInteger(n)&&n>0;function q(n,t,e){let i=NaN;return"intervals"in e?i=G(e):"points"in e?i=$(e):"size"in e&&(i=k(e,n,t)),isNaN(i)?[]:D(n,t,i)}function G(n){return Number.isInteger(n.intervals)&&n.intervals>=1?n.intervals+1:NaN}function $(n){return Number.isInteger(n.points)&&n.points>=2?n.points:NaN}function k(n,t,e){return n.size>0?Math.max(Math.round(Math.abs((e-t)/n.size)+1),2):NaN}const D=(n,t,e)=>{const i=(t-n)/(e-1),c=a(e,l=>n+l*i);return c[c.length-1]=t,c};function a(n,t){return K(n)?[...new Array(n)].map((e,i)=>t(i)):[]}const K=n=>Number.isInteger(n)&&n>0;function H(n,t){return n/t}function U(...n){return u(H,...n)}function V(n,t){return t/n}function J(...n){return u(V,...n)}function Q(n,t){const e=o(n,t,"onlyInBounds");return isNaN(e)?void 0:n[e]}function X(...n){return u(Q,...n)}function Y(n,t,e){const i=o(n,t,"onlyInBounds");return isNaN(i)?!1:e(n[i])}function Z(...n){return u(Y,...n)}function z(n,t){return n===t}function x(...n){return u(z,...n)}function nn(n,t){return t.includes(n)}function tn(...n){return u(nn,...n)}function en(n,t){const e=s(t);return n.match(e)??[]}function rn(...n){return u(en,...n)}function un(n,t){return n.filter(t)}function cn(...n){return u(un,...n)}function on(n,t){return n.filter((e,i)=>t(e,i))}function fn(...n){return u(on,...n)}function ln(n,t){const e=n.findIndex(t);return e>=0?e:NaN}function sn(...n){return u(ln,...n)}function an(n,t){const e=n.findLastIndex(t);return e>=0?e:NaN}function mn(...n){return u(an,...n)}function hn(n,t,e){const i=n.findLastIndex(t);return i>=0?n[i]:e}function dn(...n){return u(hn,...n)}function Nn(n,t,e){const i=n.findIndex(t);return i>=0?n[i]:e}function _n(...n){return u(Nn,...n)}function gn(n){return n.at(0)}function In(n,t){const e=m(t),i=n.match(e);return i?i[0]:""}function yn(...n){return u(In,...n)}function bn(n){return n.flat()}function An(n,t,e){const i=o(n,t,"inBoundsOrOnePast");return isNaN(i)?Array.isArray(n)?[...n]:n:Array.isArray(n)?[...n.slice(0,i),e,...n.slice(i,1/0)]:`${n.slice(0,i)}${e}${n.slice(i,1/0)}`}function On(...n){return u(An,...n)}function pn(n,t,e){const i=o(n,t,"inBoundsOrOnePast");return isNaN(i)?[...n]:[...n.slice(0,i),...e,...n.slice(i,1/0)]}function vn(...n){return u(pn,...n)}function Mn(n,t,e){return t+n*(e-t)}function Pn(...n){return u(Mn,...n)}function En(n,t,e){return n>=t&&n<=e}function Ln(...n){return u(En,...n)}function Wn(n,t,e){return Math.abs(n-t)<=e}function Bn(...n){return u(Wn,...n)}function jn(n,t){if(Number.isInteger(n)&&Number.isInteger(t))return n%t===0;const e=n/t;return Math.abs(e-Math.round(e))<=1e-15}function wn(...n){return u(jn,...n)}function Rn(n){return n%2===0}function Sn(n,t){return n>t}function Tn(...n){return u(Sn,...n)}function Cn(n,t){return n>=t}function Fn(...n){return u(Cn,...n)}function qn(n,t){return n instanceof t}function Gn(...n){return u(qn,...n)}function $n(n,t){return t.hasOwnProperty(n)}function kn(...n){return u($n,...n)}function Dn(n,t){return n<t}function Kn(...n){return u(Dn,...n)}function Hn(n,t){return n<=t}function Un(...n){return u(Hn,...n)}function Vn(n){return n<0}function Jn(n){return n>=0}function Qn(n){return n!=null}function Xn(n){return n==null}function Yn(n){return typeof n=="number"}function Zn(n){return Math.abs(n%2)===1}function zn(n){return n>0}function xn(n){return typeof n=="string"}function nt(n,t){return n.join(t)}function tt(...n){return u(nt,...n)}function et(n){return n.at(-1)}function rt(n){return n.length}function ut(n,t){return t(n.length)}function it(...n){return u(ut,...n)}function ct(n,t,e,i,c){const l=(n-t)/(e-t);return i+l*(c-i)}function ot(...n){return u(ct,...n)}function ft(n){return n.toLowerCase()}function lt(n,t){return n.map(e=>t(e))}function st(...n){return u(lt,...n)}function at(n,t){return Object.fromEntries(Object.entries(n).map(([e,i])=>[e,t(i)]))}function mt(...n){return u(at,...n)}function ht(n,t){return n.map(t)}function dt(...n){return u(ht,...n)}function Nt(n,t){return t.test(n)}function _t(...n){return u(Nt,...n)}function gt(n,t){return n-t*Math.floor(n/t)}function It(...n){return u(gt,...n)}function yt(n){return n.length>=1?Math.max(...n):NaN}function bt(n,t){const e=n.map(t);return e.length>=1?Math.max(...e):NaN}function At(...n){return u(bt,...n)}function Ot(n){return n.length>0?n.reduce((t,e)=>e+t,0)/n.length:NaN}function pt(n,t){const e=n.map(t);return e.length>0?e.reduce((i,c)=>c+i,0)/e.length:NaN}function vt(...n){return u(pt,...n)}function Mt(n){return n.length>=1?Math.min(...n):NaN}function Pt(n,t){const e=n.map(t);return e.length>=1?Math.min(...e):NaN}function Et(...n){return u(Pt,...n)}function Lt(n,t){return n%t}function Wt(...n){return u(Lt,...n)}function Bt(n,t){return n*t}function jt(...n){return u(Bt,...n)}function wt(n,t){return n.every(e=>!t(e))}function Rt(...n){return u(wt,...n)}function St(n,t){return!t.some(e=>e(n))}function Tt(...n){return u(St,...n)}function Ct(n,t){return!Object.values(n).some(t)}function Ft(...n){return u(Ct,...n)}function qt(n,t){return!t.every(e=>e(n))}function Gt(...n){return u(qt,...n)}function $t(n,t){return n.some(e=>!t(e))}function kt(...n){return u($t,...n)}function Dt(n,t){return!Object.values(n).every(t)}function Kt(...n){return u(Dt,...n)}function Ht(n,t){return n!==t}function Ut(...n){return u(Ht,...n)}function Vt(n,t){return!Number.isInteger(t)||t<2?NaN:t%2===0&&n<0?NaN:Math.pow(Math.abs(n),1/t)*Math.sign(n)}function Jt(...n){return u(Vt,...n)}function Qt(n,t,e){const i=t-n.length;if(i<=0||e===""||!Number.isInteger(t))return n;const c=Math.ceil(i/e.length);return e.repeat(c).slice(0,i)+n}function Xt(...n){return u(Qt,...n)}function Yt(n,t,e){const i=t-n.length;if(i<=0||e===""||!Number.isInteger(t))return n;const c=Math.ceil(i/e.length);return n+e.repeat(c).slice(0,i)}function Zt(...n){return u(Yt,...n)}function zt(n,t){return t.reduce((e,i)=>({...e,[i]:n[i]}),{})}function xt(...n){return u(zt,...n)}function ne(n,t){return Math.pow(n,t)}function te(...n){return u(ne,...n)}function ee(n,t){return Array.isArray(n)?[...t,...n]:`${t}${n}`}function re(...n){return u(ee,...n)}function ue(n,t){return[t,...n]}function ie(...n){return u(ue,...n)}function ce(n){return n.reduce((t,e)=>e*t,1)}function oe(n,t,e){return t in n?n[t]:e}function fe(...n){return u(oe,...n)}function le(n,t,e){return t in n&&e(n[t])}function se(...n){return u(le,...n)}function ae(n,t,e){let i=e;return n.forEach(c=>{i=t(i,c)}),i}function me(...n){return u(ae,...n)}function he(n,t,e){let i=e;for(let c=n.length-1;c>=0;c--)i=t(i,n[c]);return i}function de(...n){return u(he,...n)}function Ne(n,t,e){const i=typeof t=="string"?t:s(t);return n.replaceAll(i,e)}function _e(...n){return u(Ne,...n)}function ge(n){return[...n].reverse()}function Ie(n,t){if(!Number.isInteger(t))return NaN;const e=10**-t;return Math.round(n/e)*e}function ye(...n){return u(Ie,...n)}function be(n,t,e){const i=o(n,t,"onlyInBounds"),c=structuredClone(n);return Number.isNaN(i)||(c[i]=e),c}function Ae(...n){return u(be,...n)}function Oe(n,t,e){const i=o(n,t),c=o(n,e,"inBoundsOrLarger");return isNaN(i)||isNaN(c)?f(n):n.slice(i,c)}function pe(...n){return u(Oe,...n)}function ve(n,t){const e=o(n,t);return isNaN(e)?f(n):n.slice(e)}function Me(...n){return u(ve,...n)}function Pe(n,t){const e=o(n,t,"inBoundsOrLarger");return isNaN(e)?f(n):n.slice(0,e)}function Ee(...n){return u(Pe,...n)}function Le(n,t){return t.some(e=>e(n))}function We(...n){return u(Le,...n)}function Be(n,t){return n.some(t)}function je(...n){return u(Be,...n)}function we(n,t){return Object.values(n).some(t)}function Re(...n){return u(we,...n)}function Se(n,t){return n.localeCompare(t,"en-US",{ignorePunctuation:!0,caseFirst:"upper"})}function Te(n){return[...n].sort(Se)}function Ce(n,t){return n<t?-1:n>t?1:isNaN(n)?isNaN(t)?0:1:isNaN(t)?-1:0}function Fe(n){return[...n].sort(Ce)}function qe(n,t){return n.split(t)}function Ge(...n){return u(qe,...n)}function $e(n){return n.replace(/\s/g,"")}function ke(n,t){return n-t}function De(...n){return u(ke,...n)}function Ke(n,t){return t-n}function He(...n){return u(Ke,...n)}function Ue(n){return n.reduce((t,e)=>e+t,0)}function Ve(n,t){return n.map(t).reduce((i,c)=>c+i,0)}function Je(...n){return u(Ve,...n)}function Qe(n){return Number.isInteger(n)&&n>=0?n.toString(16):""}function Xe(n){return n.trim()}function Ye(n){return n.trimStart()}function Ze(n){return n.trimEnd()}function ze(n){return n.toUpperCase()}r.add=d,r.all=_,r.allElements=I,r.allProps=b,r.aperture=O,r.append=v,r.appendElement=P,r.asIs=E,r.charAt=W,r.chunk=j,r.clamp=R,r.contains=T,r.createArrayOf=C,r.createArrayRange=q,r.createArrayWith=a,r.divideBy=U,r.divideInto=J,r.elementAt=X,r.elementPasses=Z,r.equals=x,r.equalsOneOf=tn,r.everyMatch=rn,r.filter=cn,r.filterWithIndex=fn,r.findIndex=sn,r.findLastIndex=mn,r.findLastOr=dn,r.findOr=_n,r.first=gn,r.firstMatch=yn,r.flatten=bn,r.insert=On,r.insertArray=vn,r.interpolate=Pn,r.isBetween=Ln,r.isCloseTo=Bn,r.isDivisibleBy=wn,r.isEven=Rn,r.isGt=Tn,r.isGte=Fn,r.isInstanceOf=Gn,r.isKeyOf=kn,r.isLt=Kn,r.isLte=Un,r.isNegative=Vn,r.isNonNegative=Jn,r.isNotNullish=Qn,r.isNullish=Xn,r.isNumber=Yn,r.isOdd=Zn,r.isPositive=zn,r.isString=xn,r.join=tt,r.last=et,r.length=rt,r.lengthPasses=it,r.linearMap=ot,r.lowerCase=ft,r.map=st,r.mapProps=mt,r.mapWithIndex=dt,r.matchesRegex=_t,r.mathModulo=It,r.maximum=yt,r.maximumWith=At,r.mean=Ot,r.meanWith=vt,r.minimum=Mt,r.minimumWith=Et,r.modulo=Wt,r.multiply=jt,r.noElements=Rt,r.noProps=Ft,r.none=Tt,r.notAll=Gt,r.notAllElements=kt,r.notAllProps=Kt,r.notEqual=Ut,r.nthRoot=Jt,r.padLeft=Xt,r.padRight=Zt,r.pick=xt,r.pow=te,r.prepend=re,r.prependElement=ie,r.product=ce,r.propOr=fe,r.propPasses=se,r.reduce=me,r.reduceRight=de,r.replaceSubstrings=_e,r.reverse=ge,r.round=ye,r.setElement=Ae,r.slice=pe,r.sliceFrom=Me,r.sliceTo=Ee,r.some=We,r.someElements=je,r.someProps=Re,r.sortAlphabetical=Te,r.sortNumeric=Fe,r.split=Ge,r.stripWhiteSpace=$e,r.subtract=De,r.subtractFrom=He,r.sum=Ue,r.sumWith=Je,r.toHex=Qe,r.trim=Xe,r.trimLeft=Ye,r.trimRight=Ze,r.upperCase=ze,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
